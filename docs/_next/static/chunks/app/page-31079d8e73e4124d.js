(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4944:function(e,t,r){Promise.resolve().then(r.bind(r,1784))},1784:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(9268),a=r(6006);let i=(0,a.createContext)({});var o=r(6935),l=r(5507),s=r(3451),c=r(536),d=r(9352),h=r(9715),p=r(4893),u=r(1771),g=r(9714);let m=e=>{let{index:t}=e,{prompt:r,setPrompt:m}=(0,a.useContext)(i);return(0,n.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,n.jsxs)(s.Z,{sx:{width:"150px"},children:[(0,n.jsx)(c.Z,{id:"role-label",children:"Role"}),(0,n.jsxs)(d.Z,{labelId:"role-label",value:r[t].Role,label:"Role",onChange:e=>{r[t].Role=e.target.value,m([...r])},children:[(0,n.jsx)(h.Z,{value:"user",children:"User"}),(0,n.jsx)(h.Z,{value:"assistant",children:"Assistant"}),(0,n.jsx)(h.Z,{value:"system",children:"system"})]})]}),(0,n.jsx)(p.Z,{fullWidth:!0,value:r[t].Content,onChange:e=>{r[t].Content=e.target.value,m([...r])}}),(0,n.jsx)(u.Z,{display:"flex",alignItems:"center",children:(0,n.jsx)(g.Z,{sx:{mt:"auto",mb:"auto"},onClick:()=>m(r.filter((e,r)=>r!=t)),children:(0,n.jsx)(o.Z,{})})})]})};var x=r(2618),f=r(4240),Z=r(7931),v=r(8947),b=r(1550),y=r(7726);let j=(0,a.createContext)({}),C=e=>{let{k:t}=e,{args:r,setArgs:i}=(0,a.useContext)(j);return(0,n.jsx)(l.Z,{direction:"row",spacing:1,children:(0,n.jsx)(p.Z,{label:t,fullWidth:!0,value:r[t],onChange:e=>{r[t]=e.target.value,i({...r})}})})};var k=r(4214),S=r(4732),w=r(6008),F=r(2805),E=r(9440),P=r(2203),I=r(2120);let W={Jp:(0,I.iv)({fontFamily:'"Roboto", "Noto Sans JP"'})},_={px32:(0,I.iv)({fontSize:32,lineHeight:"46px"}),px24:(0,I.iv)({fontSize:24,lineHeight:"29px"}),px20:(0,I.iv)({fontSize:20,lineHeight:"24px"}),px18:(0,I.iv)({fontSize:18,lineHeight:"26px"}),px16:(0,I.iv)({fontSize:16,lineHeight:"19px"}),px14:(0,I.iv)({fontSize:14,lineHeight:"20px"}),px12:(0,I.iv)({fontSize:12,lineHeight:"17px"})},D=e=>({title:(0,I.iv)([_.px20,W.Jp,{fontWeight:700,color:e.palette.text.primary}]),subtitle:(0,I.iv)([_.px16,W.Jp,{fontWeight:700,color:e.palette.text.secondary}]),item:(0,I.iv)([_.px18,W.Jp,{fontWeight:500,color:e.palette.text.primary}]),body:(0,I.iv)([_.px16,W.Jp,{fontWeight:500,color:e.palette.text.primary}]),disc:(0,I.iv)([_.px14,W.Jp,{fontWeight:500,color:e.palette.text.primary}])});var O=r(1007),J=r(5793),R=r(4957);function A(){let e=(0,F._)([void 0,void 0]);return A=function(){return e},e}let B=e=>{let{type:t,buttonType:r,img:n,color:a,href:i,label:o,style:s,labelStyle:c,onClick:d}=e,h=(0,R.Z)(),p={display:"flex",justifyContent:"center",alignItems:"center",height:48,borderRadius:4,textDecoration:"none",..."contained"===t?{border:2,borderStyle:"solid",borderColor:h.palette.com.black}:{backgroundColor:a},...s},u=(0,E.BX)(l.Z,{direction:"row",gap:1.5,alignItems:"center",children:[n?(0,E.tZ)("img",{src:n,width:24,height:24}):void 0,(0,E.tZ)(N,{$_css:[D(h).item,{fontWeight:700,color:"contained"===t?h.palette.com.black:h.palette.com.white},c],children:o})]});return i?(0,E.tZ)("a",{style:p,href:i,onClick:d,children:u}):(0,E.tZ)("button",{type:r,style:p,onClick:d,children:u})};var N=(0,P.ZP)(f.Z).withConfig({componentId:"sc-ed2a532-0"})(A(),e=>e.$_css),z=r(6209),H=r(3090);function $(){let e=(0,F._)([void 0,void 0]);return $=function(){return e},e}let M=()=>{let{browserId:e}=(0,z.W)(),t=H.W,r=D(t);return(0,E.tZ)(O.Z,{position:"static",sx:{background:"white",borderBottom:1,borderColor:t.palette.com.gray500Op50},elevation:0,children:(0,E.tZ)(x.Z,{maxWidth:"md",style:{paddingLeft:0,paddingRight:0},children:(0,E.tZ)(J.Z,{children:t?(0,E.BX)(l.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,E.tZ)(T,{$_css:r.title,children:"GPT Playground"}),(0,E.tZ)(B,{type:"contained",href:"".concat("https://service.nekodigi.com","/").concat("prompt-share","?link_target=").concat(e),label:"Dashboard",style:{padding:12,paddingTop:4,paddingBottom:4,height:27},labelStyle:r.body})]}):void 0})})})};var T=(0,P.ZP)(f.Z).withConfig({componentId:"sc-e96204b4-0"})($(),e=>e.$_css),q=r(5846),G=r.n(q);function L(){let[e,t]=(0,a.useState)([{Role:"user",Content:""}]),[r,o]=(0,a.useState)({text:"sample"}),[s,c]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[p,F]=(0,a.useState)("");(0,w.useRouter)();let E=(0,w.useSearchParams)(),{userId:P,browserId:I}=(0,z.W)();(0,a.useEffect)(()=>{let e=E.get("prompt");e&&t(JSON.parse(e))},[]);let W=(0,a.useMemo)(()=>{let t=[];return e.forEach(e=>{t.push({...e}),Object.keys(r).forEach(n=>{t[t.length-1].Content=e.Content.replaceAll("{".concat(n,"}"),r[n])})}),t},[e,r]),_=(0,a.useMemo)(()=>{let t={};return e.forEach(e=>{let r=!1,n="";Array.from(e.Content).forEach(e=>{"{"==e?(r=!0,n=""):"}"==e?(r=!1,t[n]=""):r&&(n+=e)})}),o(t),Object.keys(t).map(e=>(0,n.jsx)(C,{k:e},e))},[e]),D=(0,a.useMemo)(()=>(history.replaceState(null,"","/?prompt=".concat(JSON.stringify(e))),e.map((e,t)=>(0,n.jsx)(m,{index:t},t))),[e]),O=async()=>{console.log(JSON.stringify({prompt:W,userId:P}));try{let e=await (0,k.Z)({url:"".concat("https://gpt-playground-backend-o3mmnjeefa-an.a.run.app","/chatgpt"),method:"post",data:{prompt:W,userId:P}});c(e.data)}catch(e){(0,S.IZ)(e)&&e.response&&(console.log(e),402==e.response.status?(F("".concat("https://service.nekodigi.com","/").concat("prompt-share","?link_target=").concat(I)),h("Payment required. Please go to dashboard to top up.")):h("Something went wrong. Please try again later."))}};return(0,n.jsx)(j.Provider,{value:{args:r,setArgs:o},children:(0,n.jsxs)(i.Provider,{value:{prompt:e,setPrompt:t},children:[(0,n.jsx)(M,{}),(0,n.jsxs)(x.Z,{maxWidth:"md",sx:{mt:4},children:[(0,n.jsx)(f.Z,{variant:"h2",mb:4,children:"GPT Playground"}),(0,n.jsx)(f.Z,{variant:"h3",mb:2,children:"Input"}),(0,n.jsx)(l.Z,{spacing:2,mb:4,children:_}),(0,n.jsx)(Z.Z,{sx:{float:"right"},variant:"contained",endIcon:(0,n.jsx)(b.Z,{}),onClick:()=>O(),children:"Send"}),(0,n.jsx)(f.Z,{variant:"h3",mb:2,mt:8,children:"Result"}),(0,n.jsx)(f.Z,{variant:"h4",mb:2,children:s}),d?p?(0,n.jsx)(G(),{href:p,children:(0,n.jsx)(v.Z,{severity:"error",children:d})}):(0,n.jsx)(v.Z,{severity:"error",children:d}):void 0,(0,n.jsx)(f.Z,{variant:"h3",mb:2,mt:30,children:"Prompt"}),(0,n.jsxs)(l.Z,{spacing:2,mb:4,children:[D,(0,n.jsx)(u.Z,{children:(0,n.jsx)(g.Z,{sx:{float:"right"},onClick:()=>{e.push({Role:"user",Content:""}),t([...e])},children:(0,n.jsx)(y.Z,{})})})]}),(0,n.jsx)(f.Z,{mb:2,children:JSON.stringify(W)})]})]})})}},3090:function(e,t,r){"use strict";r.d(t,{W:function(){return h}});var n=r(2780),a=r(7090),i=r(8537),o=r(8238),l=r(1460);let s={white:"#FFFFFF",whiteOp70:"rgba(255, 255, 255, 0.7);",whiteOp20:"rgba(255, 255, 255, 0.2);",black:"#000000",blackOp50:"rgba(0, 0, 0, 0.5);",green500:o.Z[500],red500:l.Z[500],blue500:a.Z[500],gray800:"#424242",gray500:"#9E9E9E",gray400:"#BDBDBD",gray500Op50:"rgba(158, 158, 158, 0.5);",artifactBg:"linear-gradient(117.46deg, #6D5654 0.71%, #E3AA54 101.54%);",dawn:" linear-gradient(156.05deg, #FF0000 -55.32%, #FFB199 111.96%);",main:{A100:n.Z.A100,A200:n.Z.A200,200:n.Z[200],300:n.Z[300],400:n.Z[400],500:n.Z[500],600:n.Z[600],700:n.Z[700],L500:a.Z[500]},scale:{10:"#8FE646",20:"#C2E645",30:"#E6D517",40:"#E68D17",50:"#E66B45",60:"#E65370"}},c="#212121",d="#757575",h=(0,i.Z)({palette:{mode:"light",com:s,primary:n.Z,secondary:a.Z,local:{bg:"#EEEEEE",modal:"F5F5F5",paper:"#FFFFFF",white:"#FFFFFF",black:c,gray:d,nekodigi:"linear-gradient(117.75deg, #CC208E 16.15%, #6713D2 87.96%);",whiteDark:"#D1D1D1"},text:{primary:c,secondary:d}}})},6209:function(e,t,r){"use strict";r.d(t,{W:function(){return s},v:function(){return c}});var n=r(9268),a=r(4214),i=r(6008),o=r(6006);let l=(0,o.createContext)({});function s(){return(0,o.useContext)(l)}function c(e){let{children:t}=e,[r,s]=(0,o.useState)(!0);(0,i.useSearchParams)();let{service_id:c}=(0,i.useParams)(),[d,h]=(0,o.useState)(""),[p,u]=(0,o.useState)(""),[g,m]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=async()=>{let e,t=localStorage.getItem("browserId");t?e=t:(e=(await (0,a.Z)({method:"get",url:"".concat("https://charge-framework-backend-o3mmnjeefa-an.a.run.app","/user/unique_id")})).data.id,localStorage.setItem("browserId",e));let r=(await (0,a.Z)({method:"get",url:"".concat("https://charge-framework-backend-o3mmnjeefa-an.a.run.app","/redirect/").concat("prompt-share","/").concat(e)})).data.id;m(r),u(r||e),h(e),s(!1),console.log(t,r||e)};e()},[]),(0,n.jsx)(l.Provider,{value:{userId:p,browserId:d,loading:r},children:!r&&t})}}},function(e){e.O(0,[138,223,667,488,744],function(){return e(e.s=4944)}),_N_E=e.O()}]);