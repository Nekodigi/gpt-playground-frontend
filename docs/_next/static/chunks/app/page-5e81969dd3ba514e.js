(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4944:function(e,t,n){Promise.resolve().then(n.bind(n,1784))},1784:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var a=n(9268),r=n(6006);let i=(0,r.createContext)({});var o=n(6935),s=n(5507),l=n(3451),c=n(536),d=n(7050),h=n(9715),p=n(2171),u=n(1771),g=n(9714);let x=e=>{let{index:t}=e,{prompt:n,setPrompt:x}=(0,r.useContext)(i);return(0,a.jsxs)(s.Z,{direction:"row",spacing:1,children:[(0,a.jsxs)(l.Z,{sx:{width:"150px"},children:[(0,a.jsx)(c.Z,{id:"role-label",children:"Role"}),(0,a.jsxs)(d.Z,{labelId:"role-label",value:n[t].Role,label:"Role",onChange:e=>{n[t].Role=e.target.value,x([...n])},children:[(0,a.jsx)(h.Z,{value:"user",children:"User"}),(0,a.jsx)(h.Z,{value:"assistant",children:"Assistant"}),(0,a.jsx)(h.Z,{value:"system",children:"system"})]})]}),(0,a.jsx)(p.Z,{multiline:!0,fullWidth:!0,value:n[t].Content,onChange:e=>{n[t].Content=e.target.value,x([...n])}}),(0,a.jsx)(u.Z,{display:"flex",alignItems:"center",children:(0,a.jsx)(g.Z,{sx:{mt:"auto",mb:"auto"},onClick:()=>x(n.filter((e,n)=>n!=t)),children:(0,a.jsx)(o.Z,{})})})]})};var m=n(2618),Z=n(4240),f=n(7931),b=n(5141),v=n(1107),y=n(5449),j=n(2777),S=n(1550),C=n(7726);let k=(0,r.createContext)({}),E=e=>{let{k:t}=e,{args:n,setArgs:i}=(0,r.useContext)(k);return(0,a.jsx)(s.Z,{direction:"row",spacing:1,children:(0,a.jsx)(p.Z,{multiline:!0,label:t,fullWidth:!0,value:n[t],onChange:e=>{n[t]=e.target.value,i({...n})}})})};var w=n(4214),P=n(4732),F=n(6008),I=n(2805),O=n(9440),A=n(2203),D=n(2120);let R={Jp:(0,D.iv)({fontFamily:'"Roboto", "Noto Sans JP"'})},N={px32:(0,D.iv)({fontSize:32,lineHeight:"46px"}),px24:(0,D.iv)({fontSize:24,lineHeight:"29px"}),px20:(0,D.iv)({fontSize:20,lineHeight:"24px"}),px18:(0,D.iv)({fontSize:18,lineHeight:"26px"}),px16:(0,D.iv)({fontSize:16,lineHeight:"19px"}),px14:(0,D.iv)({fontSize:14,lineHeight:"20px"}),px12:(0,D.iv)({fontSize:12,lineHeight:"17px"})},W=e=>({title:(0,D.iv)([N.px20,R.Jp,{fontWeight:700,color:e.palette.text.primary}]),subtitle:(0,D.iv)([N.px16,R.Jp,{fontWeight:700,color:e.palette.text.secondary}]),item:(0,D.iv)([N.px18,R.Jp,{fontWeight:500,color:e.palette.text.primary}]),body:(0,D.iv)([N.px16,R.Jp,{fontWeight:500,color:e.palette.text.primary}]),disc:(0,D.iv)([N.px14,R.Jp,{fontWeight:500,color:e.palette.text.primary}])});var _=n(1007),B=n(5793),J=n(4957);function z(){let e=(0,I._)([void 0,void 0]);return z=function(){return e},e}let H=e=>{let{type:t,buttonType:n,img:a,color:r,href:i,label:o,style:l,labelStyle:c,onClick:d}=e,h=(0,J.Z)(),p={display:"flex",justifyContent:"center",alignItems:"center",height:48,borderRadius:4,textDecoration:"none",..."contained"===t?{border:2,borderStyle:"solid",borderColor:h.palette.com.black}:{backgroundColor:r},...l},u=(0,O.BX)(s.Z,{direction:"row",gap:1.5,alignItems:"center",children:[a?(0,O.tZ)("img",{src:a,width:24,height:24}):void 0,(0,O.tZ)(L,{$_css:[W(h).item,{fontWeight:700,color:"contained"===t?h.palette.com.black:h.palette.com.white},c],children:o})]});return i?(0,O.tZ)("a",{style:p,href:i,onClick:d,children:u}):(0,O.tZ)("button",{type:n,style:p,onClick:d,children:u})};var L=(0,A.ZP)(Z.Z).withConfig({componentId:"sc-ed2a532-0"})(z(),e=>e.$_css),T=n(6209),U=n(3090);function M(){let e=(0,I._)([void 0,void 0]);return M=function(){return e},e}let G=()=>{let{browserId:e}=(0,T.W)(),t=U.W,n=W(t);return(0,O.tZ)(_.Z,{position:"static",sx:{background:"white",borderBottom:1,borderColor:t.palette.com.gray500Op50},elevation:0,children:(0,O.tZ)(m.Z,{maxWidth:"md",style:{paddingLeft:0,paddingRight:0},children:(0,O.tZ)(B.Z,{children:t?(0,O.BX)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,O.tZ)(V,{$_css:n.title,children:"GPT Playground"}),(0,O.tZ)(H,{type:"contained",href:"".concat("https://service.nekodigi.com","/").concat("prompt-share","?link_target=").concat(e),label:"Dashboard",style:{padding:12,paddingTop:4,paddingBottom:4,height:27},labelStyle:n.body})]}):void 0})})})};var V=(0,A.ZP)(Z.Z).withConfig({componentId:"sc-e96204b4-0"})(M(),e=>e.$_css),Y=n(5846),$=n.n(Y);n(9699);var X=n(7356);function q(){let[e,t]=(0,r.useState)("GPT Playground"),[n,o]=(0,r.useState)(0),[l,c]=(0,r.useState)("en-US"),[d,h]=(0,r.useState)(1),[I,O]=(0,r.useState)(1),[A,D]=(0,r.useState)(!0),[R,N]=(0,r.useState)([{Role:"user",Content:""}]),[W,_]=(0,r.useState)({text:"sample"}),[B,J]=(0,r.useState)(""),[z,H]=(0,r.useState)(""),[L,U]=(0,r.useState)("");(0,F.useRouter)();let M=(0,F.useSearchParams)(),{userId:V,browserId:Y}=(0,T.W)(),q=window.speechSynthesis.getVoices(),{transcript:K,listening:Q,resetTranscript:ee,browserSupportsSpeechRecognition:et}=(0,X.x6)();(0,r.useEffect)(()=>{let e=M.get("prompt");e&&N(JSON.parse(e))},[]);let en=(0,r.useMemo)(()=>{let e=[];return R.forEach(t=>{e.push({...t}),Object.keys(W).forEach(n=>{e[e.length-1].Content=t.Content.replaceAll("{".concat(n,"}"),W[n])})}),e},[R,W]),ea=(0,r.useMemo)(()=>{let e={};return R.forEach(t=>{let n=!1,a="";Array.from(t.Content).forEach(t=>{"{"==t?(n=!0,a=""):"}"==t?(n=!1,e[a]=""):n&&(a+=t)})}),_(e),Object.keys(e).map(e=>(0,a.jsx)(E,{k:e},e))},[R]),er=(0,r.useMemo)(()=>(history.replaceState(null,"","/?prompt=".concat(JSON.stringify(R))),R.map((e,t)=>(0,a.jsx)(x,{index:t},t))),[R]),ei=async()=>{console.log(JSON.stringify({prompt:en,userId:V}));try{let e=await (0,w.Z)({url:"".concat("https://gpt-playground-backend-o3mmnjeefa-an.a.run.app","/chatgpt"),method:"post",data:{prompt:en,userId:V}});if(J(e.data),!A)return;let t=new SpeechSynthesisUtterance(e.data);console.log(q),t.voice=q[n],t.rate=d,t.pitch=I,speechSynthesis.cancel(),speechSynthesis.speak(t)}catch(e){(0,P.IZ)(e)&&e.response&&(console.log(e),402==e.response.status?(U("".concat("https://service.nekodigi.com","/").concat("prompt-share","?link_target=").concat(Y)),H("Payment required. Please go to dashboard to top up.")):H("Something went wrong. Please try again later."))}},eo=()=>{X.ZP.startListening({language:"lang"})};return(0,r.useEffect)(()=>{A&&K&&(W[Object.keys(W)[0]]=K,_({...W}))},[K,W]),(0,r.useEffect)(()=>{A&&!Q&&(eo(),K&&ei())},[Q,K]),(0,a.jsx)(k.Provider,{value:{args:W,setArgs:_},children:(0,a.jsxs)(i.Provider,{value:{prompt:R,setPrompt:N},children:[(0,a.jsx)(G,{}),(0,a.jsxs)(m.Z,{maxWidth:"md",sx:{my:4},children:[(0,a.jsx)(Z.Z,{variant:"h3",mb:4,children:e}),(0,a.jsx)(Z.Z,{variant:"h4",mb:2,children:"Input"}),(0,a.jsx)(s.Z,{spacing:2,mb:4,children:ea}),(0,a.jsx)(f.Z,{sx:{float:"right"},variant:"contained",endIcon:(0,a.jsx)(S.Z,{}),onClick:()=>ei(),children:"Send"}),(0,a.jsx)(Z.Z,{variant:"h4",mb:2,mt:8,children:"Result"}),(0,a.jsx)(Z.Z,{onClick:()=>{navigator.clipboard.writeText(B)},variant:"h5",mb:2,sx:{whiteSpace:"pre-wrap"},children:B}),z?L?(0,a.jsx)($(),{href:L,children:(0,a.jsx)(b.Z,{severity:"error",children:z})}):(0,a.jsx)(b.Z,{severity:"error",children:z}):void 0,(0,a.jsx)(Z.Z,{variant:"h3",mb:2,mt:30,children:"Prompt"}),(0,a.jsxs)(s.Z,{spacing:2,mb:4,children:[er,(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.Z,{sx:{float:"right"},onClick:()=>{R.push({Role:"user",Content:""}),N([...R])},children:(0,a.jsx)(C.Z,{})})})]}),(0,a.jsx)(Z.Z,{mb:2,children:JSON.stringify(en)}),(0,a.jsx)(Z.Z,{variant:"h3",mb:2,children:"Settings"}),(0,a.jsx)(p.Z,{label:"title",value:e,onChange:e=>t(e.target.value),sx:{mb:1}}),(0,a.jsx)(Z.Z,{children:"Use voice input and output"}),(0,a.jsx)(v.Z,{checked:A,onChange:e=>D(e.target.checked)}),(0,a.jsx)(y.Z,{value:q[n].name,onChange:(e,t)=>{t&&o(q.map(e=>e.name).indexOf(t))},options:q.map(e=>e.name),renderInput:e=>(0,a.jsx)(p.Z,{...e,label:"Output Voice"}),sx:{mb:1}}),(0,a.jsx)(Z.Z,{id:"Speed",children:"Speed"}),(0,a.jsx)(j.ZP,{"aria-labelledby":"Speed",value:d,onChange:(e,t)=>h(t),min:.1,step:.1,valueLabelDisplay:"auto",max:2}),(0,a.jsx)(Z.Z,{id:"Pitch",children:"Pitch"}),(0,a.jsx)(j.ZP,{"aria-labelledby":"Pitch",value:I,onChange:(e,t)=>O(t),min:0,step:.1,max:2,valueLabelDisplay:"auto",sx:{mb:1}}),(0,a.jsx)(y.Z,{value:l,onChange:(e,t)=>{c(t||l)},options:["af","eu","bg","ca","ar-EG","ar-JO","ar-KW","ar-LB","ar-QA","ar-AE","ar-MA","ar-IQ","ar-DZ","ar-BH","ar-LY","ar-OM","ar-SA","ar-TN","ar-YE","cs","nl-NL","en-AU","en-CA","en-IN","en-NZ","en-ZA","en-GB","en-US","fi","fr-FR","gl","de-DE","el-GR","he","hu","is","it-IT","id","ja","ko","la","zh-CN","zh-TW","zh-HK","ms-MY","no-NO","pl","xx-piglatin","pt-PT","pt-br","ro-RO","ru","sr-SP","sk","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","es-MX","es-NI","es-PA","es-PY","es-PE","es-PR","es-ES","es-US","es-UY","es-VE","sv-SE","tr","zu"],renderInput:e=>(0,a.jsx)(p.Z,{...e,label:"Input Voice"}),sx:{mb:1}})]})]})})}},3090:function(e,t,n){"use strict";n.d(t,{W:function(){return h}});var a=n(2780),r=n(7090),i=n(8537),o=n(8238),s=n(1460);let l={white:"#FFFFFF",whiteOp70:"rgba(255, 255, 255, 0.7);",whiteOp20:"rgba(255, 255, 255, 0.2);",black:"#000000",blackOp50:"rgba(0, 0, 0, 0.5);",green500:o.Z[500],red500:s.Z[500],blue500:r.Z[500],gray800:"#424242",gray500:"#9E9E9E",gray400:"#BDBDBD",gray500Op50:"rgba(158, 158, 158, 0.5);",artifactBg:"linear-gradient(117.46deg, #6D5654 0.71%, #E3AA54 101.54%);",dawn:" linear-gradient(156.05deg, #FF0000 -55.32%, #FFB199 111.96%);",main:{A100:a.Z.A100,A200:a.Z.A200,200:a.Z[200],300:a.Z[300],400:a.Z[400],500:a.Z[500],600:a.Z[600],700:a.Z[700],L500:r.Z[500]},scale:{10:"#8FE646",20:"#C2E645",30:"#E6D517",40:"#E68D17",50:"#E66B45",60:"#E65370"}},c="#212121",d="#757575",h=(0,i.Z)({typography:{fontFamily:"Roboto,Noto Sans JP"},palette:{mode:"light",com:l,primary:a.Z,secondary:r.Z,local:{bg:"#EEEEEE",modal:"F5F5F5",paper:"#FFFFFF",white:"#FFFFFF",black:c,gray:d,nekodigi:"linear-gradient(117.75deg, #CC208E 16.15%, #6713D2 87.96%);",whiteDark:"#D1D1D1"},text:{primary:c,secondary:d}}})},6209:function(e,t,n){"use strict";n.d(t,{W:function(){return l},v:function(){return c}});var a=n(9268),r=n(4214),i=n(6008),o=n(6006);let s=(0,o.createContext)({});function l(){return(0,o.useContext)(s)}function c(e){let{children:t}=e,[n,l]=(0,o.useState)(!0);(0,i.useSearchParams)();let{service_id:c}=(0,i.useParams)(),[d,h]=(0,o.useState)(""),[p,u]=(0,o.useState)(""),[g,x]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=async()=>{let e,t=localStorage.getItem("browserId");t?e=t:(e=(await (0,r.Z)({method:"get",url:"".concat("https://charge-framework-backend-o3mmnjeefa-an.a.run.app","/user/unique_id")})).data.id,localStorage.setItem("browserId",e));let n=(await (0,r.Z)({method:"get",url:"".concat("https://charge-framework-backend-o3mmnjeefa-an.a.run.app","/redirect/").concat("prompt-share","/").concat(e)})).data.id;x(n),u(n||e),h(e),l(!1),console.log(t,n||e)};e()},[]),(0,a.jsx)(s.Provider,{value:{userId:p,browserId:d,loading:n},children:!n&&t})}}},function(e){e.O(0,[138,803,667,488,744],function(){return e(e.s=4944)}),_N_E=e.O()}]);